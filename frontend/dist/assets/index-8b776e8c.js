import{j as Ee,u as ke,r,B as b,G as Q,S as _e,I as Fe,a as pe,b as $e,c as oe,d as Ue,C as Se,e as ee,A as Te,f as We,g as Ke,M as Z,U as ye,h as Ze,T,i as Qe,L as Xe,k as Ye,P as he,l as Le,m as Ae,n as Oe,o as Re,p as De,q as Me,H as je,s as He,t as et,v as R,w as xe,R as h,x as Ce,y as Be,z as tt,D as st,E as nt,F as ge,J as ne,K as rt,N as ot,O as at,Q as it,V as lt,W as ct,X as Je,Y as ve,Z as fe,_ as dt,$ as ut,a0 as ht,a1 as pt,a2 as mt,a3 as ft,a4 as gt,a5 as bt,a6 as wt,a7 as yt,a8 as vt,a9 as kt,aa as St}from"./vendor-0f8813ba.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))n(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerPolicy&&(a.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?a.credentials="include":c.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(c){if(c.ep)return;c.ep=!0;const a=o(c);fetch(c.href,a)}})();const re=Ee.Fragment,e=Ee.jsx,i=Ee.jsxs,q={Genesis:{1:"31",2:"25",3:"24",4:"26",5:"32",6:"22",7:"24",8:"22",9:"29",10:"32",11:"32",12:"20",13:"18",14:"24",15:"21",16:"16",17:"27",18:"33",19:"38",20:"18",21:"34",22:"24",23:"20",24:"67",25:"34",26:"35",27:"46",28:"22",29:"35",30:"43",31:"55",32:"32",33:"20",34:"31",35:"29",36:"43",37:"36",38:"30",39:"23",40:"23",41:"57",42:"38",43:"34",44:"34",45:"28",46:"34",47:"31",48:"22",49:"33",50:"26"},Exodus:{1:"22",2:"25",3:"22",4:"31",5:"23",6:"30",7:"25",8:"32",9:"35",10:"29",11:"10",12:"51",13:"22",14:"31",15:"27",16:"36",17:"16",18:"27",19:"25",20:"26",21:"36",22:"31",23:"33",24:"18",25:"40",26:"37",27:"21",28:"43",29:"46",30:"38",31:"18",32:"35",33:"23",34:"35",35:"35",36:"38",37:"29",38:"31",39:"43",40:"38"},Leviticus:{1:"17",2:"16",3:"17",4:"35",5:"19",6:"30",7:"38",8:"36",9:"24",10:"20",11:"47",12:"8",13:"59",14:"57",15:"33",16:"34",17:"16",18:"30",19:"37",20:"27",21:"24",22:"33",23:"44",24:"23",25:"55",26:"46",27:"34"},Numbers:{1:"54",2:"34",3:"51",4:"49",5:"31",6:"27",7:"89",8:"26",9:"23",10:"36",11:"35",12:"16",13:"33",14:"45",15:"41",16:"50",17:"13",18:"32",19:"22",20:"29",21:"35",22:"41",23:"30",24:"25",25:"18",26:"65",27:"23",28:"31",29:"40",30:"16",31:"54",32:"42",33:"56",34:"29",35:"34",36:"13"},Deuteronomy:{1:"46",2:"37",3:"29",4:"49",5:"33",6:"25",7:"26",8:"20",9:"29",10:"22",11:"32",12:"32",13:"18",14:"29",15:"23",16:"22",17:"20",18:"22",19:"21",20:"20",21:"23",22:"30",23:"25",24:"22",25:"19",26:"19",27:"26",28:"68",29:"29",30:"20",31:"30",32:"52",33:"29",34:"12"},Joshua:{1:"18",2:"24",3:"17",4:"24",5:"15",6:"27",7:"26",8:"35",9:"27",10:"43",11:"23",12:"24",13:"33",14:"15",15:"63",16:"10",17:"18",18:"28",19:"51",20:"9",21:"45",22:"34",23:"16",24:"33"},Judges:{1:"36",2:"23",3:"31",4:"24",5:"31",6:"40",7:"25",8:"35",9:"57",10:"18",11:"40",12:"15",13:"25",14:"20",15:"20",16:"31",17:"13",18:"31",19:"30",20:"48",21:"25"},Ruth:{1:"22",2:"23",3:"18",4:"22"},"1-Samuel":{1:"28",2:"36",3:"21",4:"22",5:"12",6:"21",7:"17",8:"22",9:"27",10:"27",11:"15",12:"25",13:"23",14:"52",15:"35",16:"23",17:"58",18:"30",19:"24",20:"42",21:"15",22:"23",23:"29",24:"22",25:"44",26:"25",27:"12",28:"25",29:"11",30:"31",31:"13"},"2-Samuel":{1:"27",2:"32",3:"39",4:"12",5:"25",6:"23",7:"29",8:"18",9:"13",10:"19",11:"27",12:"31",13:"39",14:"33",15:"37",16:"23",17:"29",18:"33",19:"43",20:"26",21:"22",22:"51",23:"39",24:"25"},"1-Kings":{1:"53",2:"46",3:"28",4:"34",5:"18",6:"38",7:"51",8:"66",9:"28",10:"29",11:"43",12:"33",13:"34",14:"31",15:"34",16:"34",17:"24",18:"46",19:"21",20:"43",21:"29",22:"53"},"2-Kings":{1:"18",2:"25",3:"27",4:"44",5:"27",6:"33",7:"20",8:"29",9:"37",10:"36",11:"21",12:"21",13:"25",14:"29",15:"38",16:"20",17:"41",18:"37",19:"37",20:"21",21:"26",22:"20",23:"37",24:"20",25:"30"},"1-Chronicles":{1:"54",2:"55",3:"24",4:"43",5:"26",6:"81",7:"40",8:"40",9:"44",10:"14",11:"47",12:"40",13:"14",14:"17",15:"29",16:"43",17:"27",18:"17",19:"19",20:"8",21:"30",22:"19",23:"32",24:"31",25:"31",26:"32",27:"34",28:"21",29:"30"},"2-Chronicles":{1:"17",2:"18",3:"17",4:"22",5:"14",6:"42",7:"22",8:"18",9:"31",10:"19",11:"23",12:"16",13:"22",14:"15",15:"19",16:"14",17:"19",18:"34",19:"11",20:"37",21:"20",22:"12",23:"21",24:"27",25:"28",26:"23",27:"9",28:"27",29:"36",30:"27",31:"21",32:"33",33:"25",34:"33",35:"27",36:"23"},Ezra:{1:"11",2:"70",3:"13",4:"24",5:"17",6:"22",7:"28",8:"36",9:"15",10:"44"},Nehemiah:{1:"11",2:"20",3:"32",4:"23",5:"19",6:"19",7:"73",8:"18",9:"38",10:"39",11:"36",12:"47",13:"31"},Esther:{1:"22",2:"23",3:"15",4:"17",5:"14",6:"14",7:"10",8:"17",9:"32",10:"3"},Job:{1:"22",2:"13",3:"26",4:"21",5:"27",6:"30",7:"21",8:"22",9:"35",10:"22",11:"20",12:"25",13:"28",14:"22",15:"35",16:"22",17:"16",18:"21",19:"29",20:"29",21:"34",22:"30",23:"17",24:"25",25:"6",26:"14",27:"23",28:"28",29:"25",30:"31",31:"40",32:"22",33:"33",34:"37",35:"16",36:"33",37:"24",38:"41",39:"30",40:"24",41:"34",42:"17"},Psalm:{1:"6",2:"12",3:"8",4:"8",5:"12",6:"10",7:"17",8:"9",9:"20",10:"18",11:"7",12:"8",13:"6",14:"7",15:"5",16:"11",17:"15",18:"50",19:"14",20:"9",21:"13",22:"31",23:"6",24:"10",25:"22",26:"12",27:"14",28:"9",29:"11",30:"12",31:"24",32:"11",33:"22",34:"22",35:"28",36:"12",37:"40",38:"22",39:"13",40:"17",41:"13",42:"11",43:"5",44:"26",45:"17",46:"11",47:"9",48:"14",49:"20",50:"23",51:"19",52:"9",53:"6",54:"7",55:"23",56:"13",57:"11",58:"11",59:"17",60:"12",61:"8",62:"12",63:"11",64:"10",65:"13",66:"20",67:"7",68:"35",69:"36",70:"5",71:"24",72:"20",73:"28",74:"23",75:"10",76:"12",77:"20",78:"72",79:"13",80:"19",81:"16",82:"8",83:"18",84:"12",85:"13",86:"17",87:"7",88:"18",89:"52",90:"17",91:"16",92:"15",93:"5",94:"23",95:"11",96:"13",97:"12",98:"9",99:"9",100:"5",101:"8",102:"28",103:"22",104:"35",105:"45",106:"48",107:"43",108:"13",109:"31",110:"7",111:"10",112:"10",113:"9",114:"8",115:"18",116:"19",117:"2",118:"29",119:"176",120:"7",121:"8",122:"9",123:"4",124:"8",125:"5",126:"6",127:"5",128:"6",129:"8",130:"8",131:"3",132:"18",133:"3",134:"3",135:"21",136:"26",137:"9",138:"8",139:"24",140:"13",141:"10",142:"7",143:"12",144:"15",145:"21",146:"10",147:"20",148:"14",149:"9",150:"6"},Proverbs:{1:"33",2:"22",3:"35",4:"27",5:"23",6:"35",7:"27",8:"36",9:"18",10:"32",11:"31",12:"28",13:"25",14:"35",15:"33",16:"33",17:"28",18:"24",19:"29",20:"30",21:"31",22:"29",23:"35",24:"34",25:"28",26:"28",27:"27",28:"28",29:"27",30:"33",31:"31"},Ecclesiastes:{1:"18",2:"26",3:"22",4:"16",5:"20",6:"12",7:"29",8:"17",9:"18",10:"20",11:"10",12:"14"},"Song-of-Solomon":{1:"17",2:"17",3:"11",4:"16",5:"16",6:"13",7:"13",8:"14"},Isaiah:{1:"31",2:"22",3:"26",4:"6",5:"30",6:"13",7:"25",8:"22",9:"21",10:"34",11:"16",12:"6",13:"22",14:"32",15:"9",16:"14",17:"14",18:"7",19:"25",20:"6",21:"17",22:"25",23:"18",24:"23",25:"12",26:"21",27:"13",28:"29",29:"24",30:"33",31:"9",32:"20",33:"24",34:"17",35:"10",36:"22",37:"38",38:"22",39:"8",40:"31",41:"29",42:"25",43:"28",44:"28",45:"25",46:"13",47:"15",48:"22",49:"26",50:"11",51:"23",52:"15",53:"12",54:"17",55:"13",56:"12",57:"21",58:"14",59:"21",60:"22",61:"11",62:"12",63:"19",64:"12",65:"25",66:"24"},Jeremiah:{1:"19",2:"37",3:"25",4:"31",5:"31",6:"30",7:"34",8:"22",9:"26",10:"25",11:"23",12:"17",13:"27",14:"22",15:"21",16:"21",17:"27",18:"23",19:"15",20:"18",21:"14",22:"30",23:"40",24:"10",25:"38",26:"24",27:"22",28:"17",29:"32",30:"24",31:"40",32:"44",33:"26",34:"22",35:"19",36:"32",37:"21",38:"28",39:"18",40:"16",41:"18",42:"22",43:"13",44:"30",45:"5",46:"28",47:"7",48:"47",49:"39",50:"46",51:"64",52:"34"},Lamentations:{1:"22",2:"22",3:"66",4:"22",5:"22"},Ezekiel:{1:"28",2:"10",3:"27",4:"17",5:"17",6:"14",7:"27",8:"18",9:"11",10:"22",11:"25",12:"28",13:"23",14:"23",15:"8",16:"63",17:"24",18:"32",19:"14",20:"49",21:"32",22:"31",23:"49",24:"27",25:"17",26:"21",27:"36",28:"26",29:"21",30:"26",31:"18",32:"32",33:"33",34:"31",35:"15",36:"38",37:"28",38:"23",39:"29",40:"49",41:"26",42:"20",43:"27",44:"31",45:"25",46:"24",47:"23",48:"35"},Daniel:{1:"21",2:"49",3:"30",4:"37",5:"31",6:"28",7:"28",8:"27",9:"27",10:"21",11:"45",12:"13"},Hosea:{1:"11",2:"23",3:"5",4:"19",5:"15",6:"11",7:"16",8:"14",9:"17",10:"15",11:"12",12:"14",13:"16",14:"9"},Joel:{1:"20",2:"32",3:"21"},Amos:{1:"15",2:"16",3:"15",4:"13",5:"27",6:"14",7:"17",8:"14",9:"15"},Obadiah:{1:"21"},Jonah:{1:"17",2:"10",3:"10",4:"11"},Micah:{1:"16",2:"13",3:"12",4:"13",5:"15",6:"16",7:"20"},Nahum:{1:"15",2:"13",3:"19"},Habakkuk:{1:"17",2:"20",3:"19"},Zephaniah:{1:"18",2:"15",3:"20"},Haggai:{1:"15",2:"23"},Zechariah:{1:"21",2:"13",3:"10",4:"14",5:"11",6:"15",7:"14",8:"23",9:"17",10:"12",11:"17",12:"14",13:"9",14:"21"},Malachi:{1:"14",2:"17",3:"18",4:"6"},Matthew:{1:"25",2:"23",3:"17",4:"25",5:"48",6:"34",7:"29",8:"34",9:"38",10:"42",11:"30",12:"50",13:"58",14:"36",15:"39",16:"28",17:"27",18:"35",19:"30",20:"34",21:"46",22:"46",23:"39",24:"51",25:"46",26:"75",27:"66",28:"20"},Mark:{1:"45",2:"28",3:"35",4:"41",5:"43",6:"56",7:"37",8:"38",9:"50",10:"52",11:"33",12:"44",13:"37",14:"72",15:"47",16:"20"},Luke:{1:"80",2:"52",3:"38",4:"44",5:"39",6:"49",7:"50",8:"56",9:"62",10:"42",11:"54",12:"59",13:"35",14:"35",15:"32",16:"31",17:"37",18:"43",19:"48",20:"47",21:"38",22:"71",23:"56",24:"53"},John:{1:"51",2:"25",3:"36",4:"54",5:"47",6:"71",7:"53",8:"59",9:"41",10:"42",11:"57",12:"50",13:"38",14:"31",15:"27",16:"33",17:"26",18:"40",19:"42",20:"31",21:"25"},Acts:{1:"26",2:"47",3:"26",4:"37",5:"42",6:"15",7:"60",8:"40",9:"43",10:"48",11:"30",12:"25",13:"52",14:"28",15:"41",16:"40",17:"34",18:"28",19:"41",20:"38",21:"40",22:"30",23:"35",24:"27",25:"27",26:"32",27:"44",28:"31"},Romans:{1:"32",2:"29",3:"31",4:"25",5:"21",6:"23",7:"25",8:"39",9:"33",10:"21",11:"36",12:"21",13:"14",14:"23",15:"33",16:"27"},"1-Corinthians":{1:"31",2:"16",3:"23",4:"21",5:"13",6:"20",7:"40",8:"13",9:"27",10:"33",11:"34",12:"31",13:"13",14:"40",15:"58",16:"24"},"2-Corinthians":{1:"24",2:"17",3:"18",4:"18",5:"21",6:"18",7:"16",8:"24",9:"15",10:"18",11:"33",12:"21",13:"14"},Galatians:{1:"24",2:"21",3:"29",4:"31",5:"26",6:"18"},Ephesians:{1:"23",2:"22",3:"21",4:"32",5:"33",6:"24"},Philippians:{1:"30",2:"30",3:"21",4:"23"},Colossians:{1:"29",2:"23",3:"25",4:"18"},"1-Thessalonians":{1:"10",2:"20",3:"13",4:"18",5:"28"},"2-Thessalonians":{1:"12",2:"17",3:"18"},"1-Timothy":{1:"20",2:"15",3:"16",4:"16",5:"25",6:"21"},"2-Timothy":{1:"18",2:"26",3:"17",4:"22"},Titus:{1:"16",2:"15",3:"15"},Philemon:{1:"25"},Hebrews:{1:"14",2:"18",3:"19",4:"16",5:"14",6:"20",7:"28",8:"13",9:"28",10:"39",11:"40",12:"29",13:"25"},James:{1:"27",2:"26",3:"18",4:"17",5:"20"},"1-Peter":{1:"25",2:"25",3:"22",4:"19",5:"14"},"2-Peter":{1:"21",2:"22",3:"18"},"1-John":{1:"10",2:"29",3:"24",4:"21",5:"21"},"2-John":{1:"13"},"3-John":{1:"15"},Jude:{1:"25"},Revelation:{1:"20",2:"29",3:"22",4:"11",5:"14",6:"17",7:"17",8:"13",9:"21",10:"11",11:"19",12:"17",13:"18",14:"20",15:"8",16:"21",17:"18",18:"24",19:"21",20:"15",21:"27",22:"21"}},A=["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","1-Samuel","2-Samuel","1-Kings","2-Kings","1-Chronicles","2-Chronicles","Ezra","Nehemiah","Esther","Job","Psalms","Proverbs","Ecclesiastes","Song-of-Solomon","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","Matthew","Mark","Luke","John","Acts","Romans","1-Corinthians","2-Corinthians","Galatians","Ephesians","Philippians","Colossians","1-Thessalonians","2-Thessalonians","1-Timothy","2-Timothy","Titus","Philemon","Hebrews","James","1-Peter","2-Peter","1-John","2-John","3-John","Jude","Revelation"],se=()=>window.appdata.config,xt=s=>Object.keys(s).map(t=>`${t}=${s[t]}`).join("&"),Ve=(s,t)=>(s===void 0&&(s=se().wwwroot+"/local/platform/service.php"),t=t||{},t.sesskey=se().sesskey,s+"?"+xt(t)),Ct=async(s,t)=>{const n={...{method:"GET",body:{},query:{}},...s};if(!(n.query||n.body))throw new Error("Body or query required.");const c=await fetch(Ve(t,n.query),{method:n.method||"GET",headers:{"Content-Type":"application/json"},body:n.method!=="GET"?JSON.stringify(n.body):null}),a=await c.json();if(!c.ok)throw new Error(a.message||"An error occurred.");return a},Nt=(s,t)=>{t=parseInt(t);const o=A.indexOf(s),n=A.length-1;let c={};if(t===1){const a=o===0?n:o-1,l=Object.keys(q[A[a]]).length;c={book:A[a],chapter:l,url:"/"+A[a]+"/"+l}}else{const a=t-1;c={book:s,chapter:a,url:"/"+s+"/"+a}}return c},Et=(s,t)=>{t=parseInt(t);const o=A.indexOf(s),n=A.length-1;parseInt(q[s][t]);let c={};const a=Object.keys(q[s]).length;if(t===a){const l=o===n?0:o+1;c={book:A[l],chapter:1,url:"/"+A[l]+"/1"}}else c={book:s,chapter:t+1,url:"/"+s+"/"+(t+1)};return c},Tt=(s,t,o)=>{t=parseInt(t),o=parseInt(o);const n=A.indexOf(s),c=A.length-1;let a={};if(o===0)if(t===1){const l=n===0?c:n-1,x=Object.keys(q[A[l]]).length;a={book:A[l],chapter:x,verse:q[A[l]][x],url:"/"+A[l]+"/"+x+"/"+q[A[l]][x]}}else{const l=t-1;a={book:s,chapter:l,verse:q[s][l],url:"/"+s+"/"+l+"/"+q[s][l]}}else a={book:s,chapter:t,verse:o-1,url:"/"+s+"/"+t+"/"+(o-1)};return a},zt=(s,t,o)=>{t=parseInt(t),o=parseInt(o);const n=A.indexOf(s),c=A.length-1,a=parseInt(q[s][t]);let l={};if(o===a){const x=Object.keys(q[s]).length;if(t===x){const m=n===c?0:n+1;l={book:A[m],chapter:1,verse:0,url:"/"+A[m]+"/1"}}else l={book:s,chapter:t+1,verse:0,url:"/"+s+"/"+(t+1)}}else l={book:s,chapter:t,verse:o+1,url:"/"+s+"/"+t+"/"+(o+1)};return l};function _t({book:s,chapter:t}){const o=ke(),[n,c]=r.useState(s),[a,l]=r.useState(t.toString()),[x,m]=r.useState([]),[z,L]=r.useState([]),k=r.useRef();r.useEffect(()=>{M()},[]),r.useEffect(()=>{V(n)},[n]);const D=w=>{var f;c(w),(f=k.current)==null||f.blur();let v="/"+w+"/"+t;w!=s&&(v="/"+w+"/",l("1")),o(v)},y=w=>{l(w);let v="/"+n+"/"+w;o(v)},M=()=>{let w=Object.keys(q).splice(0,39),v=Object.keys(q).splice(39);w=w.map((N,B)=>({value:N,label:N.replaceAll("-"," ")})),v=v.map((N,B)=>({value:N,label:N.replaceAll("-"," ")})),m([{group:"Old Testament",items:w},{group:"New Testament",items:v}])},V=w=>{let v=Object.keys(q[w]).map((f,N)=>({value:f,label:f}));L(v)};return e(b,{maw:400,children:i(Q,{gutter:"sm",children:[e(Q.Col,{span:8,children:e(_e,{placeholder:"Book",leftSection:e(Fe,{size:"1rem"}),maxDropdownHeight:400,value:n,onChange:D,searchable:!0,size:"sm",styles:{input:{border:"0 none"}},withCheckIcon:!1,data:x||[],onFocus:w=>w.target.select(),allowDeselect:!1,ref:k})}),e(Q.Col,{span:4,children:e(_e,{data:z,placeholder:"Chapter",maxDropdownHeight:400,value:a,onChange:y,size:"sm",withCheckIcon:!1,styles:{input:{border:"0 none"}},allowDeselect:!1})})]})})}function qe({book:s,chapter:t,verse:o}){const n=pe("(max-width: 62em)"),{setColorScheme:c}=$e(),l=oe("light",{getInitialValueInEffect:!0})==="dark",x=async()=>{var L;const z=await Ct({query:{methodname:"local_bible-check_login"}});z.error&&(((L=z.exception)==null?void 0:L.errorcode)==="requireloginerror"||z.errorcode==="requireloginerror")&&window.location.replace(se().loginUrl)},m=Ue(()=>x(),3e4);return r.useEffect(()=>(m.start(),m.stop),[]),e(b,{bg:l?"#000000":"#0F172A",children:e(Se,{fluid:!0,pl:n?20:30,pr:n?20:40,children:i(ee,{h:54,justify:"space-between",wrap:"nowrap",children:[e(_t,{book:s,chapter:t}),i(ee,{wrap:"nowrap",children:[e(Te,{variant:"subtle",onClick:()=>c(l?"light":"dark"),title:"Toggle color scheme","aria-label":"Toggle color scheme",color:l?"yellow":"blue",children:l?e(We,{size:"1rem"}):e(Ke,{size:"1rem"})}),i(Z,{position:"bottom-end",width:200,shadow:"md",children:[e(Z.Target,{children:e(ye,{children:i(ee,{children:[e(Ze,{size:"sm",radius:"xl",src:"/local/platform/avatar.php?username="+se().user.un}),e(b,{visibleFrom:"sm",children:e(T,{size:"sm",c:"#fff",children:se().user.fn+" "+se().user.ln})})]})})}),i(Z.Dropdown,{children:[e(Z.Item,{leftSection:e(Qe,{size:14}),component:Xe,to:"/tags",children:"Tags"}),e(Z.Item,{leftSection:e(Ye,{size:14}),onMouseDown:()=>window.location.replace(se().logoutUrl),children:"Logout"})]})]})]})]})})})}function Pt({book:s,chapter:t,verses:o,verse:n,title:c,setVerse:a,scroll:l}){const x=ke(),m=r.useRef(),z=pe("(max-width: 62em)"),k=oe()==="dark";r.useEffect(()=>{o.length&&n.verse&&m.current&&l(m.current.offsetTop-38),o.length&&!n.verse&&o[0].book_name==s.replaceAll("-"," ")&&o[0].chapter==t&&l(0)},[o,n]);const D=y=>{if(window.getSelection().removeAllRanges(),n.verse==y)if(z)a(y);else{const M="/"+s+"/"+t;a(0),x(M)}else{a(y);const M="/"+s+"/"+t+"/"+y;x(M)}};return i(he,{style:{overflowAnchor:"none"},bg:"transparent",children:[e(ye,{onClick:()=>D(0),children:e(T,{fz:"1.5rem",fw:"600",mb:"md",children:c})}),e(b,{children:o.map(y=>e("div",{children:e(ye,{onClick:()=>D(y.verse),ref:n.verse==y.verse?m:null,ml:z?"1.75rem":"2rem",mb:"sm",children:i(b,{pos:"relative",children:[e(T,{fw:600,left:z?"-1.75rem":"-2rem",top:0,pos:"absolute",children:y.verse}),e(T,{lh:1,span:!0,lts:"0.006rem",c:n.verse==y.verse||!k?"dark.9":"dark.0",bg:n.verse==y.verse?"#ffec99":"transparent",children:e("span",{dangerouslySetInnerHTML:{__html:y.text}})})]})})},y.verse))})]})}function U(){const[s,t]=r.useState({response:null,error:!1,loading:!1}),o=async(n={method:"GET",body:{},query:{}},c)=>{(n.query||n.body)&&(t({response:null,error:null,loading:!0}),fetch(Ve(c,n.query),{method:n.method||"GET",headers:{"Content-Type":"application/json"},body:n.method!=="GET"&&JSON.stringify(n.body)}).then(async a=>{const l=await a.json();t({response:l,error:l.error,loading:!1})}).catch(a=>{t({response:a,error:!0,loading:!1})}))};return[s.response,s.error,s.loading,o,t]}function Ge({opened:s,close:t,title:o,note:n,save:c,deleted:a}){const l=pe("(max-width: 62em)"),[x,m,z,L]=U(),[k,D,y,M]=U(),[V,w]=r.useState([]),[v,f]=r.useState([]),[N,B]=r.useState(""),j=oe()==="dark",E=Le({extensions:[Ae,Oe,Re,De,Me,je,He.configure({placeholder:"Take a note..."})],content:n.text});r.useEffect(()=>{E&&E.commands.setContent(n.text),w(n.tags),L({query:{methodname:"local_bible-get_tags"}})},[n]),r.useEffect(()=>{x&&!m&&f(x.data)},[x]);const K=()=>{if(E&&E.getText())c({...n,text:E.getHTML(),tags:V});else return;w([]),t()},P=()=>{N.length&&(w(H=>[...H,N]),B(""))},W=H=>{nt.openConfirmModal({title:"Delete note",centered:!0,children:e(T,{size:"sm",children:"Are you sure you want to delete this note?"}),labels:{confirm:"Delete",cancel:"Cancel"},confirmProps:{color:"red",className:"bg-mantine-red"},onConfirm:()=>G(H)})},G=H=>{M({method:"POST",body:{methodname:"local_bible-delete_note",args:{id:H.id}}}),a(H)};return i(et,{opened:s,onClose:t,size:"xl",withCloseButton:!1,styles:{body:{padding:0},content:{border:j?"0.0625rem solid rgb(63, 63, 63)":"0 none"}},overlayProps:{opacity:j?1:l?.6:.4},closeOnClickOutside:!1,children:[e(b,{pt:"md",pb:"sm",px:"md",bg:j?"dark.8":"#faf8f7",children:i(ee,{justify:"space-between",wrap:"nowrap",align:"flex-start",children:[o,e(R,{radius:"sm",variant:"light",color:j?"dark.2":"dark",onClick:t,size:"compact-sm",px:5,children:e(xe,{size:"1rem"})})]})}),i(b,{bg:j?"dark.6":"white",style:{overflow:"hidden"},children:[i(h,{editor:E,style:{border:"0 none"},children:[i(h.Toolbar,{style:{border:"0 none"},sticky:!0,my:9,bg:"transparent",children:[i(h.ControlsGroup,{children:[e(h.Bold,{}),e(h.Italic,{}),e(h.Strikethrough,{}),e(h.ClearFormatting,{})]}),i(h.ControlsGroup,{children:[e(h.Underline,{}),e(h.Superscript,{}),e(h.Subscript,{}),e(h.Highlight,{})]}),i(h.ControlsGroup,{children:[e(h.Blockquote,{}),e(h.Hr,{}),e(h.BulletList,{}),e(h.OrderedList,{})]}),i(h.ControlsGroup,{children:[e(h.Link,{}),e(h.Unlink,{})]})]}),e(h.Content,{px:"md",bg:"transparent",fz:"md"})]}),e(Ce,{h:"sm"}),i(ee,{py:10,px:"md",style:{position:"sticky",bottom:-1},justify:"space-between",gap:10,align:"end",wrap:"nowrap",children:[e(Be,{data:v,value:V,onChange:w,searchValue:N,onSearchChange:B,onBlur:P,placeholder:"# tags",variant:"unstyled",radius:"xs",size:"sm",withScrollArea:!0,miw:180,maxDropdownHeight:250,comboboxProps:{position:"bottom-start",shadow:"lg"},styles:{input:{padding:0,minHeight:24,fontSize:"0.8rem"},dropdown:{maxWidth:280}},p:0}),i(ee,{wrap:"nowrap",gap:0,children:[e(R,{radius:"sm",variant:"light",onClick:()=>K(),size:"compact-sm",mr:1,style:{borderTopRightRadius:0,borderBottomRightRadius:0},children:"Save"}),i(Z,{transitionProps:{transition:"pop"},position:"bottom-end",withinPortal:!0,children:[e(Z.Target,{children:e(Te,{variant:"light",size:26,style:{borderTopLeftRadius:0,borderBottomLeftRadius:0},children:e(tt,{size:"1rem"})})}),e(Z.Dropdown,{children:e(Z.Item,{color:"red",leftSection:e(st,{size:"0.8rem"}),onMouseDown:()=>W(n),children:"Delete note"})})]})]})]})]})]})}function It({save:s}){const[t,o]=r.useState(""),[n,c]=r.useState(!1),[a,l]=r.useState([]),[x,m]=r.useState([]),[z,L]=r.useState(""),[k,D,y,M]=U(),w=oe()==="dark",v=Le({extensions:[Ae,Oe,Re,De,Me,je,He.configure({placeholder:"Take a note..."})],content:"",onUpdate({editor:_,event:j}){_.getText()?o(_.getHTML()):o("")},onFocus({editor:_,event:j}){c(!0)}}),f=()=>{t.length&&(s({id:0,text:t,tags:a}),N())},N=()=>{v.commands.clearContent(!0),l([]),c(!1)},B=()=>{z.length&&(l(_=>[..._,z]),L(""))};return r.useEffect(()=>{M({query:{methodname:"local_bible-get_tags"}})},[]),r.useEffect(()=>{k&&!D&&m(k.data)},[k]),i(b,{className:"editor",bg:n&&!w?"white":"transparent",style:{border:n?w?"0.0625rem solid rgb(63, 63, 63)":"0.0625rem solid #dee2e6":"0 none",borderRadius:"0.25rem"},py:n?"sm":0,px:n?"sm":0,my:n?"xs":"sm",ml:n?0:"sm",children:[i(h,{editor:v,style:{border:"0 none"},children:[i(h.Toolbar,{m:"-0.75rem",p:"sm",style:{border:"0 none"},display:n?"flex":"none",sticky:!0,bg:w?"transparent":"white",children:[i(h.ControlsGroup,{children:[e(h.Bold,{}),e(h.Italic,{}),e(h.Strikethrough,{}),e(h.ClearFormatting,{})]}),i(h.ControlsGroup,{children:[e(h.Underline,{}),e(h.Superscript,{}),e(h.Subscript,{}),e(h.Highlight,{})]}),i(h.ControlsGroup,{children:[e(h.Blockquote,{}),e(h.Hr,{}),e(h.BulletList,{}),e(h.OrderedList,{})]}),i(h.ControlsGroup,{children:[e(h.Link,{}),e(h.Unlink,{})]})]}),e(h.Content,{fz:"md",bg:"transparent",mt:n?"md":""})]}),i(b,{display:n?null:"none",children:[e(Ce,{h:"sm"}),i(ee,{justify:"space-between",align:"end",gap:"xs",wrap:"nowrap",children:[e(Be,{data:x,value:a,onChange:l,searchValue:z,onSearchChange:L,onBlur:B,placeholder:"# tags",variant:"unstyled",radius:"xs",size:"sm",withScrollArea:!0,miw:180,maxDropdownHeight:250,comboboxProps:{position:"bottom-start",shadow:"lg"},styles:{input:{padding:0,minHeight:24,fontSize:"0.8rem"},dropdown:{maxWidth:280}},p:0}),e(R.Group,{children:e(R,{radius:"sm",variant:"light",onClick:()=>f(),size:"compact-sm",children:"Save"})})]})]})]})}const Lt="_note_1p4v5_1",At="_notedark_1p4v5_13",Ot="_submitting_1p4v5_19",Rt="_buttonWrap_1p4v5_25",Dt="_button_1p4v5_25",$={note:Lt,notedark:At,submitting:Ot,buttonWrap:Rt,button:Dt};function Mt({book:s,chapter:t,verse:o,text:n}){const[c,a,l,x]=U(),[m,z,L,k,D]=U(),[y,M]=r.useState([]),[V,w]=r.useState([]),[v,f]=r.useState({}),[N,B]=r.useState({}),[_,j]=r.useState({}),[E,K]=r.useState({}),[P,W]=r.useState({id:0}),[G,{open:H,close:ae}]=ge(!1),I=s+"/"+t+"/"+o,ie=oe()==="dark";r.useEffect(()=>{_[I]||j(u=>({...u,[I]:1}))},[I]),r.useEffect(()=>{const u=_[I]?_[I]:1;u<=E[I]||x({query:{methodname:"local_bible-get_notes",page:u,book:s,chapter:t,verse:o}})},[_]),r.useEffect(()=>{if(c&&!a){const u=c.data.scripture;let S={...v};if(v.hasOwnProperty(u)){let p=c.data.notes.filter(F=>!v[u].find(d=>F.id===d.id));S[u]=[...S[u],...p]}else S[u]=c.data.notes;f(S),K(p=>({...p,[I]:c.data.page})),B(p=>({...p,[u]:c.data.hasNextPage}))}},[c]);const le=()=>{j(u=>({...u,[I]:u[I]+1}))},me=u=>{W(u),H()},Y=u=>{u.submitting=!0,u.scripture=I;let S={id:0,uuid:0,...u};if(u.id){S.id=u.id;let p={...v};p[I]=p[I].map(F=>F.id===u.id?u:F),f(p)}else S.uuid=u.uuid=ot(),M(p=>[u,...p]);w(p=>[...p,S])};r.useEffect(()=>{if(!V.length||L)return;const u=V[0];k({method:"POST",body:{methodname:"local_bible-post_note",args:u}})},[V]),r.useEffect(()=>{if(m&&!z){const u=m.data.scripture;if(m.data.uuid){const S=y.find(p=>p.uuid===m.data.uuid);if(S){S.id=m.data.id,S.submitting=!1,M(F=>F.filter(function(d){return d.uuid!==m.data.uuid}));let p={...v};p[u]=p[u]!==void 0?[S,...p[u]]:[S],f(p)}}else f(S=>({...S,[u]:S[u].map(p=>p.id===m.data.id?{...p,submitting:!1}:p)}))}(m||z)&&w(u=>u.slice(1))},[m]);const te=u=>{f(S=>({...S,[u.scripture]:S[u.scripture].map(p=>p.id===u.id?{...p,deleted:!0}:p)})),ae()},ce=()=>o?n&&i(b,{className:"verse cursor-text",children:[e(T,{span:!0,fw:600,children:o}),e(T,{span:!0,children:"  "}),e(T,{span:!0,fw:400,lts:"0.006rem",lh:1.25,children:e("span",{dangerouslySetInnerHTML:{__html:n}})})]}):e(b,{children:e(T,{span:!0,fw:600,children:"Chapter notes"})}),de=u=>{if(u.deleted)return null;let S=u.submitting?$.submitting:"",p=ie?`${$.note} ${$.notedark}`:$.note;return i(b,{className:`${p} ${S}`,py:"sm",px:"sm",w:"100%",pos:"relative",style:{borderRadius:"0.25rem"},bg:u.submitting?ie?"rgba(0,0,0,0.2)":"rgba(0,0,0,0.02)":"transparent",mb:1,children:[e(T,{fz:"1rem",opacity:u.submitting?"0.5":"1",children:e("span",{className:"note cursor-text",dangerouslySetInnerHTML:{__html:u.text}})}),u.submitting?e(ne,{size:"xs",pos:"absolute",top:-8,left:-7}):e(he,{className:$.buttonWrap,pos:"absolute",top:-12,left:-15,children:e(R,{radius:"sm",variant:"light",size:"compact-sm",className:$.button,onClick:()=>me(u),children:"Edit"})})]},u.id)};return i("div",{children:[e(b,{pl:"sm",children:ce()}),e(Ce,{h:"sm"}),e(It,{save:Y}),l&&_[I]==1&&e(ne,{m:"sm",size:"sm"}),i(b,{mt:"md",className:"notes",children:[y.map(u=>de(u)),v[I]&&v[I].map(u=>de(u)),N[I]&&e(rt,{p:"sm",children:e(R,{variant:"light",loading:l&&_[I]>1,onClick:()=>le(),size:"compact-sm",px:"sm",radius:"xl",children:"Load more"})})]}),e(Ge,{opened:G,close:ae,note:P,title:ce(),save:Y,deleted:te})]})}function jt({prev:s,next:t}){const o=pe("(max-width: 62em)"),n=ke();return i(ee,{justify:o?"flex-start":"space-between",gap:2,children:[i(R,{onClick:()=>n(s.url),size:"compact-sm",variant:"light",leftSection:e(at,{size:"1rem"}),children:[s.book.replaceAll("-"," ")," ",s.chapter]}),i(R,{onClick:()=>n(t.url),size:"compact-sm",variant:"light",rightSection:e(it,{size:"1rem"}),children:[t.book.replaceAll("-"," ")," ",t.chapter]})]})}const Ht="_vh100_ehqek_3",ue={vh100:Ht},Bt="/local/bible/frontend/dist/assets/logo-c6ba88da.svg";function Jt(){const[s,t]=r.useState(!1),[o,n]=r.useState(null);r.useEffect(()=>{const a=l=>{l.preventDefault(),t(!0),n(l)};return window.addEventListener("beforeinstallprompt",a),()=>window.removeEventListener("transitionend",a)},[]);const c=a=>{a.preventDefault(),o&&(o.prompt(),t(!1))};return s?i(he,{pos:"absolute",bottom:15,right:15,shadow:"lg",style:{display:"flex",alignItems:"center"},bg:"#0F172A",radius:"sm",children:[i(ye,{onClick:c,py:"xs",px:"md",style:{display:"flex",alignItems:"center",gap:"0.8rem",borderRight:"1px solid #58696a"},h:46,children:[e(lt,{radius:"sm",h:28,w:"auto",fit:"contain",src:Bt}),e(T,{c:"white",children:"Install the app"}),e(ct,{color:"white",size:"1rem"})]}),e(Te,{variant:"transparent","aria-label":"Hide notification",w:38,h:46,onClick:a=>t(!1),color:"white",radius:"lg",children:e(xe,{size:"1.2rem",stroke:1.5})})]}):null}function we(){let{book:s="Matthew",chapter:t=1,verse:o=0}=Je();t=parseInt(t),o=parseInt(o);const[n,c,a,l,x]=U(),[m,z,L,k,D]=U(),[y,M,V,w,v]=U(),f=s+"/"+t,[N,B]=r.useState({}),[_,j]=r.useState({}),[E,K]=r.useState({verse:0}),P=pe("(max-width: 62em)"),[W,G]=ge(!1),[H,ae]=ge(!0),I=r.useRef(null),X=r.useRef(null),ie=ke(),le=zt(s,t,o),me=Tt(s,t,o),Y=Et(s,t),te=Nt(s,t),de=oe()==="dark";r.useEffect(()=>{P!==void 0&&(G.close(),!P&&H&&G.open())},[P]),r.useEffect(()=>{p(s,t,l),p(Y.book,Y.chapter,k),p(te.book,te.chapter,w),document.title=S()},[s,t]),r.useEffect(()=>{I.current.scrollTo({top:0,behavior:"smooth"})},[o]);const u=(g,J="smooth")=>{X.current.scrollTo({top:g,behavior:J})},S=()=>s.replaceAll("-"," ")+" "+t+(o?":"+o:E.verse?":"+E.verse:""),p=(g,J,Ne)=>{const be=Object.keys(N).includes(g+"/"+J),ze=g==s&&J==t;be&&ze&&F(o),be||(ze&&K({verse:0}),Ne({query:{methodname:"local_bible-get_scripture",book:g,chapter:J}}))};r.useEffect(()=>{if(n&&!c){const g=n.data.book+"/"+n.data.chapter;B(J=>({...J,[g]:[...n.data.verses]}))}},[n]),r.useEffect(()=>{if(m&&!z){const g=m.data.book+"/"+m.data.chapter;B(J=>({...J,[g]:[...m.data.verses]}))}},[m]),r.useEffect(()=>{if(y&&!M){const g=y.data.book+"/"+y.data.chapter;B(J=>({...J,[g]:[...y.data.verses]}))}},[y]),r.useEffect(()=>{N.hasOwnProperty(f)&&!_.hasOwnProperty(f)&&j({[f]:[...N[f]]})},[N,f]),r.useEffect(()=>{F(o)},[_]);const F=g=>{const J=parseInt(g);if(!J){K({verse:0});return}if(E&&E.verse==J||N[f]===void 0)return;const Ne=N[f].filter(be=>be.verse===J);K(...Ne)},d=g=>{F(g),H&&G.open()},C=()=>{G.close()};r.useEffect(()=>{document.title=S()},[E]);const O=g=>{ie(g.url),d(g.verse)};return i(re,{children:[e(qe,{book:s,chapter:t,verse:o}),e(b,{pos:"relative",style:{overflow:"hidden"},children:i(Se,{fluid:!0,size:"lg",p:0,m:0,children:[i(Q,{grow:!0,gutter:0,m:0,styles:{inner:{margin:0}},children:[e(Q.Col,{span:{base:12,md:6,lg:5},p:0,display:P&&W&&H?"none":null,children:e(ve,{className:ue.vh100,viewportRef:X,children:i(b,{py:P?20:27,pl:P?22:32,pr:P?15:35,maw:800,m:"auto",children:[e(Pt,{book:s,chapter:t,title:S(),verses:_[f]?_[f]:[],verse:E,setVerse:d,scroll:u}),(a||!_.hasOwnProperty(f))&&e(ne,{size:"sm"}),e(Ce,{h:"sm"}),_.hasOwnProperty(f)&&e(jt,{next:Y,prev:te})]})})}),e(Q.Col,{span:{base:12,md:6,lg:7},p:0,display:P&&!W||!H?"none":null,children:e(ve,{bg:de?"dark.6":"#faf8f7",className:ue.vh100,viewportRef:I,pos:"relative",children:e(b,{className:ue.vh100,pr:67,py:P?20:27,pl:P?13:23,children:e(Mt,{book:s,chapter:t,verse:o,text:E==null?void 0:E.text})})})})]}),i(b,{pos:"fixed",top:70,right:15,children:[P&&W&&e(R,{onClick:()=>C(),size:"compact-md",variant:"light",color:"dark",h:34,mb:"xs",children:e(xe,{size:"1rem"})}),W&&i(R.Group,{orientation:"vertical",children:[e(fe,{label:"Previous verse",withArrow:!0,position:"left",children:e(R,{onClick:()=>O(me),size:"compact-md",variant:"light",h:34,children:e(dt,{size:"1rem"})})}),e(fe,{label:"Next verse",withArrow:!0,position:"left",children:e(R,{onClick:()=>O(le),size:"compact-md",variant:"light",h:34,children:e(ut,{size:"1rem"})})}),e(fe,{label:"Disable notes panel",withArrow:!0,position:"left",children:e(R,{onClick:()=>{ae.close(),G.close()},size:"compact-md",variant:"light",h:34,children:e(ht,{size:"1rem"})})})]}),!H&&e(he,{orientation:"vertical",pos:"fixed",bottom:15,right:20,radius:"50%",shadow:"xl",children:e(fe,{label:"Open notes",withArrow:!0,position:"left",children:e(R,{onClick:()=>{ae.open(),G.open()},size:"compact-md",variant:"light",h:50,w:50,radius:"50%",bg:"rgba(34,139,230,.2)",children:e(pt,{size:"1.4rem"})})})})]})]})}),e(Jt,{})]})}function Vt(){const s=pe("(max-width: 62em)"),[t,o]=ge(!1),[n,c]=r.useState([]),[a,l,x,m,z]=U(),[L,k,D,y,M]=U(),[V,w]=r.useState(""),[v,f]=r.useState([]),[N,B]=r.useState([]),[_,j]=ge(!1),[E,K]=r.useState({id:0}),[P,W,G,H,ae]=U(),X=oe()==="dark";r.useEffect(()=>{m({query:{methodname:"local_bible-get_tags_and_count"}})},[]),r.useEffect(()=>{a&&!l&&(c(a.data),a.data.length&&le(a.data[0].name))},[a]);const ie=d=>{le(d),o.open()},le=d=>{w(d),y({query:{methodname:"local_bible-get_notes_by_tag",tag:d}})};r.useEffect(()=>{L&&!k&&(console.log(L.data.notes),f(L.data.notes))},[L]);const me=()=>e(he,{style:{overflowAnchor:"none"},bg:"transparent",children:i(b,{children:[n.map(d=>e("div",{children:e(R,{display:"block",onClick:()=>ie(d.name),mb:"sm",variant:"light",radius:"xl",size:"compact-sm",rightSection:e(T,{c:X?"dark.1":"dark.4",fz:"0.8rem",children:d.num}),children:d.name})},d.name)),x&&e(ne,{size:"sm"})]})}),Y=()=>i("div",{children:[i(b,{className:"notes",children:[e(T,{fz:"1.5rem",fw:"600",mb:"md",children:V}),!D&&v&&v.map(d=>i("div",{children:[ce(d.book,d.chapter,d.verse,d.text),e(b,{my:"md",children:d.notes.map(C=>te(C))})]},d.scripture)),D&&e(ne,{size:"sm"})]}),e(Ge,{opened:_,close:j.close,note:E,title:ce(E.book,E.chapter,E.verse,E.versetext),save:u,deleted:S})]}),te=d=>{if(d.deleted)return null;let C=d.submitting?$.submitting:"",O=X?`${$.note} ${$.notedark}`:$.note;return i(b,{className:`${O} ${C}`,py:"sm",px:"sm",w:"100%",pos:"relative",style:{borderRadius:"0.25rem"},bg:d.submitting?X?"rgba(0,0,0,0.2)":"rgba(0,0,0,0.02)":"transparent",mb:1,children:[e(T,{fz:"1rem",opacity:d.submitting?"0.5":"1",children:e("span",{className:"note cursor-text",dangerouslySetInnerHTML:{__html:d.text}})}),d.submitting?e(ne,{size:"xs",pos:"absolute",top:-8,left:-7}):e(he,{className:$.buttonWrap,pos:"absolute",top:-12,left:-15,children:e(R,{radius:"sm",variant:"light",size:"compact-sm",className:$.button,onClick:()=>de(d),children:"Edit"})})]},d.id)},ce=(d,C,O,g)=>e(b,{children:O!=0?i(re,{children:[i(T,{span:!0,fw:600,children:[d," ",C,":",O]}),e(T,{span:!0,children:"  "}),e(T,{span:!0,fw:400,lts:"0.006rem",lh:1.25,children:e("span",{dangerouslySetInnerHTML:{__html:g}})})]}):e(re,{children:i(T,{span:!0,fw:600,children:[d," ",C," chapter notes"]})})}),de=d=>{K(d),j.open()},u=d=>{d.submitting=!0;let C=[...v];const O=C.map(function(g){return g.scripture}).indexOf(d.scripture);C[O].notes=C[O].notes.map(g=>g.id===d.id?d:g),f(C),B(g=>[...g,d])};r.useEffect(()=>{if(!N.length||G)return;const d=N[0];H({method:"POST",body:{methodname:"local_bible-post_note",args:d}})},[N]),r.useEffect(()=>{if(P&&!W){let d=[...v];const C=d.map(function(O){return O.scripture}).indexOf(P.data.scripture);d[C].notes=d[C].notes.map(O=>O.id===P.data.id?{...O,submitting:!1}:O),f(d)}(P||W)&&B(d=>d.slice(1))},[P]);const S=d=>{let C=[...v];const O=C.map(function(g){return g.scripture}).indexOf(d.scripture);C[O].notes=C[O].notes.filter(g=>g.id!==d.id),C=C.filter(g=>g.notes.length),f(C),j.close()},p=()=>{const d=ft("print/:tag",{tag:V});F(d)},F=d=>{const C=window.open(d,"_blank","noopener,noreferrer");C&&(C.opener=null)};return i(re,{children:[e(qe,{book:"Matthew",chapter:1,verse:0}),e(b,{pos:"relative",style:{overflow:"hidden"},children:i(Se,{fluid:!0,size:"lg",p:0,m:0,children:[i(Q,{grow:!0,gutter:0,m:0,styles:{inner:{margin:0}},children:[e(Q.Col,{maw:s?null:400,span:{base:12,md:6},p:0,display:s&&t?"none":null,children:e(ve,{className:ue.vh100,bg:X?"dark.6":"#faf8f7",children:e(b,{py:s?20:32,pl:s?22:32,pr:s?15:35,children:me()})})}),e(Q.Col,{span:{base:12,md:6},p:0,display:s&&!t?"none":null,children:e(ve,{className:ue.vh100,pos:"relative",children:e(b,{pos:"relative",children:e(b,{className:ue.vh100,pr:67,py:s?20:27,pl:s?23:33,children:Y()})})})})]}),i(b,{pos:"fixed",top:70,right:15,children:[s&&t&&e(R,{onClick:()=>o.close(),size:"compact-md",variant:"light",color:"dark",h:34,mb:"xs",children:e(xe,{size:"1rem"})}),(!s||t)&&e(R.Group,{orientation:"vertical",children:e(fe,{label:"Print preview",withArrow:!0,position:"left",children:e(R,{onClick:p,size:"compact-md",variant:"light",h:34,children:e(mt,{size:"1rem"})})})})]})]})})]})}const qt="_mvh100_101xi_3",Gt="_print_101xi_13",Pe={mvh100:qt,print:Gt};function Ie(){let{tag:s=""}=Je();const[t,o,n,c,a]=U(),[l,x]=r.useState([]);r.useEffect(()=>{s&&c({query:{methodname:"local_bible-get_notes_by_tag",tag:s}})},[s]),r.useEffect(()=>{t&&!o&&x(t.data.notes)},[t]),r.useEffect(()=>{l.length&&window.print()},[l]);const m=()=>e("div",{children:i(b,{className:"notes",children:[e(T,{fz:"1.5rem",fw:"600",mb:"md",children:s}),!n&&l&&l.map(k=>i("div",{children:[L(k.book,k.chapter,k.verse,k.text),e(b,{my:"md",children:k.notes.map(D=>z(D))})]},k.scripture)),n&&e(ne,{size:"sm"})]})}),z=k=>k.deleted?null:e(b,{py:"sm",px:"sm",w:"100%",pos:"relative",mb:1,children:e(T,{fz:"1rem",children:e("span",{className:"note cursor-text",dangerouslySetInnerHTML:{__html:k.text}})})},k.id),L=(k,D,y,M)=>e(b,{children:y!=0?i(re,{children:[i(T,{span:!0,fw:600,children:[k," ",D,":",y]}),e(T,{span:!0,children:"  "}),e(T,{span:!0,fw:400,lts:"0.006rem",lh:1.25,children:e("span",{dangerouslySetInnerHTML:{__html:M}})})]}):e(re,{children:i(T,{span:!0,fw:600,children:[k," ",D," chapter notes"]})})});return e(Se,{fluid:!0,size:"lg",p:40,m:0,bg:"#fff",className:`${Pe.mvh100} ${Pe.print}`,children:m()})}r.createContext(null);function Ft(){const s=gt([{path:"/tags",element:e(Vt,{})},{path:"/print",element:e(Ie,{}),children:[{path:":tag",element:e(Ie,{})}]},{path:"/",element:e(we,{}),children:[{path:":book",element:e(we,{}),children:[{path:":chapter",element:e(we,{}),children:[{path:":verse",element:e(we,{})}]}]}]}],{basename:"/local/bible"});return i(re,{children:[e(bt,{defaultColorScheme:"auto"}),e(wt,{defaultColorScheme:"auto",children:e(yt,{children:e(vt,{router:s})})})]})}kt.createRoot(document.getElementById("root")).render(e(St.StrictMode,{children:e(Ft,{})}));
